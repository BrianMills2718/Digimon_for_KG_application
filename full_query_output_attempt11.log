####################################################################################################
 _____ _____ _____ _____ __  __  ____  _   _ 
|  __ \_   _/ ____|_   _|  \/  |/ __ \| \ | |
| |  | || || |  __  | | | \  / | |  | |  \| |
| |  | || || | |_ | | | | |\/| | |  | | . ` |
| |__| || || |__| |_| |_| |  | | |__| | |\  |
|_____/_____\_____|_____|_|  |_|\____/|_| \_|
                                             
                                             

╔════════════════════════════════════════════════════════════════════════════════════════════════════════╗
║ Welcome to DIGIMON: Deep Analysis of Graph-Based RAG Systems.                                          ║
║                                                                                                        ║
║ Unlock advanced insights with our comprehensive tool for evaluating and optimizing RAG models.         ║
║                                                                                                        ║
║ You can freely combine any graph-based RAG algorithms you desire. We hope this will be helpful to you! ║
╚════════════════════════════════════════════════════════════════════════════════════════════════════════╝
####################################################################################################
2025-05-20 03:14:40.508 | INFO     | __main__:handle_query_mode:119 - Starting 'query' mode for dataset: MySampleTexts...
2025-05-20 03:14:40.508 | INFO     | __main__:handle_query_mode:120 - Question: Tell me about the thirteen colonies
2025-05-20 03:14:40.508 | INFO     | __main__:handle_query_mode:124 - Attempting to setup GraphRAG for querying (loading artifacts)...
2025-05-20 03:14:40.508 | INFO     | Core.GraphRAG:setup_for_querying:256 - --- Starting Artifact Loading Process for test ---
2025-05-20 03:14:40.508 | INFO     | Core.Storage.ChunkKVStorage:load_chunk:121 - Attempting to load chunk data from: ./results/MySampleTexts/kg_graph/chunk_storage_chunk_data_idx.pkl and ./results/MySampleTexts/kg_graph/chunk_storage_chunk_data_key.pkl
2025-05-20 03:14:40.508 | INFO     | Core.Storage.ChunkKVStorage:load_chunk:134 - Successfully loaded chunk data (idx and key) from: ./results/MySampleTexts/kg_graph/chunk_storage_chunk_data_idx.pkl and ./results/MySampleTexts/kg_graph/chunk_storage_chunk_data_key.pkl
2025-05-20 03:14:40.509 | INFO     | Core.GraphRAG:setup_for_querying:261 - Chunks loaded successfully.
2025-05-20 03:14:40.509 | INFO     | Core.Graph.BaseGraph:load_persisted_graph:32 - Attempting to load persisted graph via NetworkXStorage.load_graph(force=False)
2025-05-20 03:14:40.509 | INFO     | Core.Storage.NetworkXStorage:load_nx_graph:33 - Attempting to load the graph from: ./results/MySampleTexts/kg_graph/graph_storage_nx_data.graphml
2025-05-20 03:14:40.512 | INFO     | Core.Storage.NetworkXStorage:load_nx_graph:37 - Successfully loaded graph from: ./results/MySampleTexts/kg_graph/graph_storage_nx_data.graphml with 99 nodes and 67 edges
2025-05-20 03:14:40.512 | INFO     | Core.GraphRAG:setup_for_querying:266 - Graph loaded successfully.
2025-05-20 03:14:40.959 | INFO     | Core.GraphRAG:setup_for_querying:272 - Entities VDB loaded. Index object: <llama_index.core.indices.vector_store.base.VectorStoreIndex object at 0x7f0be9655ab0>
2025-05-20 03:14:40.959 | INFO     | Core.Storage.JsonKVStorage:load:37 - Load KV ./results/MySampleTexts/kg_graph/community_storage_community_node_map.json with 16 data
2025-05-20 03:14:40.959 | INFO     | Core.Community.LeidenCommunity:_load_cluster_map:284 - ✅ Successfully loaded community <-> node map.
2025-05-20 03:14:40.959 | INFO     | Core.GraphRAG:setup_for_querying:291 - Community node map loaded successfully.
2025-05-20 03:14:40.959 | INFO     | Core.Storage.JsonKVStorage:load:37 - Load KV ./results/MySampleTexts/kg_graph/community_storage_community_report.json with 4 data
2025-05-20 03:14:40.959 | INFO     | Core.Community.LeidenCommunity:_load_community_report:268 - Successfully loaded community report.
2025-05-20 03:14:40.959 | INFO     | Core.GraphRAG:setup_for_querying:296 - Community reports loaded successfully.
2025-05-20 03:14:40.960 | INFO     | Core.GraphRAG:_build_retriever_context:150 - Building retriever context for the current execution
2025-05-20 03:14:40.960 | INFO     | Core.GraphRAG:setup_for_querying:323 - --- Artifact Loading Process for test Completed ---
2025-05-20 03:14:40.960 | INFO     | Core.GraphRAG:query:336 - Processing query: 'Tell me about the thirteen colonies'
2025-05-20 03:14:40.960 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:13 - BASIC_QUERY_MAIN_RETRIEVE: Entered _retrieve_relevant_contexts for query: 'Tell me about the thirteen colonies'
2025-05-20 03:14:40.960 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:14 - BASIC_QUERY_MAIN_RETRIEVE: Config - tree_search: False, use_global_query: False, use_community: True, use_keywords: False, enable_local: True, enable_hybrid_query: False
2025-05-20 03:14:40.960 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:15 - BASIC_QUERY_MAIN_RETRIEVE: Checking for tree_search path...
2025-05-20 03:14:40.960 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:117 - BASIC_QUERY_MAIN_RETRIEVE: Checking for global query with community path...
2025-05-20 03:14:40.960 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:120 - BASIC_QUERY_MAIN_RETRIEVE: Checking for global query with keywords path...
2025-05-20 03:14:40.960 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:124 - BASIC_QUERY_MAIN_RETRIEVE: Checking for local or hybrid query path (this should lead to _retrieve_relevant_contexts_local)...
2025-05-20 03:14:40.960 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:166 - BASIC_QUERY_LOCAL: Entered _retrieve_relevant_contexts_local for query: 'Tell me about the thirteen colonies'
2025-05-20 03:14:40.960 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:38 - ENTITY_VDB_RETRIEVAL: Querying VDB with seed: 'Tell me about the thirteen colonies' for top_k: None
2025-05-20 03:14:43.008 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:54 - ENTITY_VDB_RETRIEVAL: Raw VDB nodes count: 5
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:56 - ENTITY_VDB_RETRIEVAL: First raw VDB node (with score if available): {'source_id': 'chunk-7421266e36f8a3a10735faa45747264e<SEP>chunk-41b312f13f5f70362056f212ec061600', 'entity_name': 'thirteen colonies', 'entity_type': '', 'description': 'the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'content': 'thirteen colonies: the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'clusters': '[{"level": 0, "cluster": "1"}]'}, Score: 0.6295589301468691
2025-05-20 03:14:43.009 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:68 - ENTITY_VDB_RETRIEVAL: Processed node_datas count: 5
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:70 - ENTITY_VDB_RETRIEVAL: First processed node_data: {'source_id': 'chunk-7421266e36f8a3a10735faa45747264e<SEP>chunk-41b312f13f5f70362056f212ec061600', 'entity_name': 'thirteen colonies', 'entity_type': '', 'description': 'the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'content': 'thirteen colonies: the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'clusters': '[{"level": 0, "cluster": "1"}]'}
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': 'thirteen colonies: the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'id': 'thirteen colonies', 'entity_name': 'thirteen colonies', 'layer': 0, 'vdb_score': 0.6295589301468691, 'source_id': 'chunk-7421266e36f8a3a10735faa45747264e<SEP>chunk-41b312f13f5f70362056f212ec061600', 'description': 'the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'entity_type': ''}
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:117 - ENTITY_VDB_CLUSTERS: Attached clusters for entity 'thirteen colonies': [{'level': 0, 'cluster': '1'}]
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'thirteen colonies'
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:129 - ENTITY_VDB_DIAG: self.community type: <class 'Core.Community.LeidenCommunity.LeidenCommunity'>, repr: <Core.Community.LeidenCommunity.LeidenCommunity object at 0x7f0be9654700>
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:131 - ENTITY_VDB_DIAG: self.community.community_node_map type: <class 'Core.Storage.JsonKVStorage.JsonKVStorage'>, repr: JsonKVStorage(config=None, namespace=<Core.Storage.NameSpace.Namespace object at 0x7f0be9654610>)
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:138 - ENTITY_VDB_CLUSTERS: Attached clusters for entity 'thirteen colonies': [{'level': 0, 'cluster': '1'}]
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'thirteen colonies'
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:149 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'thirteen colonies' HAS 'clusters' attribute: [{'level': 0, 'cluster': '1'}]
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': 'new england colonies', 'id': 'new england colonies', 'entity_name': 'new england colonies', 'layer': 0, 'vdb_score': 0.5160649382470128, 'source_id': 'chunk-541c2fb47007dc4d93603094626a6541', 'description': '', 'entity_type': ''}
2025-05-20 03:14:43.009 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:119 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'new england colonies'.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'new england colonies'
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:140 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'new england colonies'.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'new england colonies'
2025-05-20 03:14:43.010 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'new england colonies' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': 'american revolutionary war: the american revolutionary war was the armed conflict between the thirteen colonies and great britain  resulting in the colonies  independence', 'id': 'american revolutionary war', 'entity_name': 'american revolutionary war', 'layer': 0, 'vdb_score': 0.49621254727814146, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the american revolutionary war was the armed conflict between the thirteen colonies and great britain  resulting in the colonies  independence', 'entity_type': ''}
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:119 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'american revolutionary war'.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'american revolutionary war'
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:140 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'american revolutionary war'.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'american revolutionary war'
2025-05-20 03:14:43.010 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'american revolutionary war' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': 'american revolution: the american revolution was an ideological and political movement in the thirteen colonies that led to the american revolutionary war and the establishment of the united states of america', 'id': 'american revolution', 'entity_name': 'american revolution', 'layer': 0, 'vdb_score': 0.4363492270386398, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the american revolution was an ideological and political movement in the thirteen colonies that led to the american revolutionary war and the establishment of the united states of america', 'entity_type': ''}
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:119 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'american revolution'.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'american revolution'
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:140 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'american revolution'.
2025-05-20 03:14:43.010 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'american revolution'
2025-05-20 03:14:43.011 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'american revolution' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 03:14:43.011 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': 'new england colonists', 'id': 'new england colonists', 'entity_name': 'new england colonists', 'layer': 0, 'vdb_score': 0.43206210413457863, 'source_id': 'chunk-541c2fb47007dc4d93603094626a6541', 'description': '', 'entity_type': ''}
2025-05-20 03:14:43.011 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:119 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'new england colonists'.
2025-05-20 03:14:43.011 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'new england colonists'
2025-05-20 03:14:43.011 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:140 - ENTITY_VDB_CLUSTERS: No cluster info found in community_node_map for entity 'new england colonists'.
2025-05-20 03:14:43.011 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'new england colonists'
2025-05-20 03:14:43.011 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'new england colonists' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 03:14:43.011 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:154 - ENTITY_VDB_FINAL_LIST: Final list of processed_node_datas before assignment (first item if any): {'text': 'thirteen colonies: the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'id': 'thirteen colonies', 'entity_name': 'thirteen colonies', 'layer': 0, 'vdb_score': 0.6295589301468691, 'source_id': 'chunk-7421266e36f8a3a10735faa45747264e<SEP>chunk-41b312f13f5f70362056f212ec061600', 'description': 'the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'entity_type': '', 'clusters': [{'level': 0, 'cluster': '1'}]}
2025-05-20 03:14:43.011 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:175 - ENTITY_VDB_RANKING: Added 'rank' (node degree) to 5 entities.
2025-05-20 03:14:43.011 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:177 - ENTITY_VDB_RANKING: First entity after adding rank: {'text': 'thirteen colonies: the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'id': 'thirteen colonies', 'entity_name': 'thirteen colonies', 'layer': 0, 'vdb_score': 0.6295589301468691, 'source_id': 'chunk-7421266e36f8a3a10735faa45747264e<SEP>chunk-41b312f13f5f70362056f212ec061600', 'description': 'the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'entity_type': '', 'clusters': [{'level': 0, 'cluster': '1'}], 'rank': 4}
2025-05-20 03:14:43.011 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:189 - Processed 5 nodes with metadata for RAPTOR.
2025-05-20 03:14:43.011 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:173 - BASIC_QUERY_LOCAL: Retrieved 5 entities for query 'Tell me about the thirteen colonies'.
2025-05-20 03:14:43.011 | DEBUG    | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:174 - BASIC_QUERY_LOCAL: First entity object received: {'text': 'thirteen colonies: the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'id': 'thirteen colonies', 'entity_name': 'thirteen colonies', 'layer': 0, 'vdb_score': 0.6295589301468691, 'source_id': 'chunk-7421266e36f8a3a10735faa45747264e<SEP>chunk-41b312f13f5f70362056f212ec061600', 'description': 'the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'entity_type': '', 'clusters': [{'level': 0, 'cluster': '1'}], 'rank': 4}
2025-05-20 03:14:43.011 | INFO     | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:23 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Entered with 5 seed entities.
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:25 - COMMUNITY_RETRIEVER_FROM_ENTITIES: First seed entity details: {'text': 'thirteen colonies: the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'id': 'thirteen colonies', 'entity_name': 'thirteen colonies', 'layer': 0, 'vdb_score': 0.6295589301468691, 'source_id': 'chunk-7421266e36f8a3a10735faa45747264e<SEP>chunk-41b312f13f5f70362056f212ec061600', 'description': 'the royal proclamation of 1763 angered settlers  fur traders  and land speculators in the thirteen colonies<SEP>the thirteen colonies were the british colonies in north america that played a significant role in the american revolution', 'entity_type': '', 'clusters': [{'level': 0, 'cluster': '1'}], 'rank': 4}
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:33 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Processing entity: thirteen colonies, Keys: ['text', 'id', 'entity_name', 'layer', 'vdb_score', 'source_id', 'description', 'entity_type', 'clusters', 'rank']
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:45 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Extended related_communities from entity thirteen colonies with: [{'level': 0, 'cluster': '1'}]
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:33 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Processing entity: new england colonies, Keys: ['text', 'id', 'entity_name', 'layer', 'vdb_score', 'source_id', 'description', 'entity_type', 'rank']
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:49 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Entity new england colonies has no 'clusters' attribute or it's empty.
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:33 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Processing entity: american revolutionary war, Keys: ['text', 'id', 'entity_name', 'layer', 'vdb_score', 'source_id', 'description', 'entity_type', 'rank']
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:49 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Entity american revolutionary war has no 'clusters' attribute or it's empty.
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:33 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Processing entity: american revolution, Keys: ['text', 'id', 'entity_name', 'layer', 'vdb_score', 'source_id', 'description', 'entity_type', 'rank']
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:49 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Entity american revolution has no 'clusters' attribute or it's empty.
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:33 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Processing entity: new england colonists, Keys: ['text', 'id', 'entity_name', 'layer', 'vdb_score', 'source_id', 'description', 'entity_type', 'rank']
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:49 - COMMUNITY_RETRIEVER_FROM_ENTITIES: Entity new england colonists has no 'clusters' attribute or it's empty.
2025-05-20 03:14:43.012 | DEBUG    | Core.Retriever.CommunityRetriever:_find_relevant_community_from_entities:50 - COMMUNITY_RETRIEVER_FROM_ENTITIES: All extracted related_communities: [{'level': 0, 'cluster': '1'}]
Traceback (most recent call last):
  File "/home/brian/digimon/main.py", line 206, in <module>
    asyncio.run(main())
  File "/home/brian/miniconda3/envs/digimon/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/home/brian/miniconda3/envs/digimon/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/brian/digimon/main.py", line 201, in main
    await handle_query_mode(opt, args.dataset_name, args.question, digimon)
  File "/home/brian/digimon/main.py", line 127, in handle_query_mode
    answer = await graphrag_instance.query(question_str)
  File "/home/brian/digimon/Core/GraphRAG.py", line 337, in query
    response = await self.querier_internal.query(query_text)
  File "/home/brian/digimon/Core/Query/BaseQuery.py", line 22, in query
    context = await self._retrieve_relevant_contexts(query=query)
  File "/home/brian/digimon/Core/Query/BasicQuery.py", line 126, in _retrieve_relevant_contexts
    entities_context, relations_context, text_units_context, communities_context = await self._retrieve_relevant_contexts_local(
  File "/home/brian/digimon/Core/Query/BasicQuery.py", line 185, in _retrieve_relevant_contexts_local
    use_communities = await self._retriever.retrieve_relevant_content(seed=node_datas, type=Retriever.COMMUNITY,
  File "/home/brian/digimon/Core/Retriever/MixRetriever.py", line 21, in retrieve_relevant_content
    return await self.retrievers[type].retrieve_relevant_content(mode=mode, **kwargs)
  File "/home/brian/digimon/Core/Retriever/BaseRetriever.py", line 26, in retrieve_relevant_content
    return await retrieve_fun(self, **kwargs)
  File "/home/brian/digimon/Core/Retriever/CommunityRetriever.py", line 51, in _find_relevant_community_from_entities
    query_config_level = self.retriever_context.context["query"].level
KeyError: 'query'
