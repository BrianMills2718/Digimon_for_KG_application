2025-05-20 04:37:40.158 | INFO     | __main__:handle_query_mode:119 - Starting 'query' mode for dataset: MySampleTexts...
2025-05-20 04:37:40.158 | INFO     | __main__:handle_query_mode:120 - Question: What were the key causes of the American Revolution?
2025-05-20 04:37:40.158 | INFO     | __main__:handle_query_mode:124 - Attempting to setup GraphRAG for querying (loading artifacts)...
2025-05-20 04:37:40.158 | INFO     | Core.GraphRAG:setup_for_querying:263 - --- Starting Artifact Loading Process for test ---
2025-05-20 04:37:40.158 | INFO     | Core.Storage.ChunkKVStorage:load_chunk:121 - Attempting to load chunk data from: ./results/MySampleTexts/rkg_graph/chunk_storage_chunk_data_idx.pkl and ./results/MySampleTexts/rkg_graph/chunk_storage_chunk_data_key.pkl
2025-05-20 04:37:40.158 | INFO     | Core.Storage.ChunkKVStorage:load_chunk:134 - Successfully loaded chunk data (idx and key) from: ./results/MySampleTexts/rkg_graph/chunk_storage_chunk_data_idx.pkl and ./results/MySampleTexts/rkg_graph/chunk_storage_chunk_data_key.pkl
2025-05-20 04:37:40.158 | INFO     | Core.GraphRAG:setup_for_querying:268 - Chunks loaded successfully.
2025-05-20 04:37:40.159 | INFO     | Core.Graph.BaseGraph:load_persisted_graph:32 - Attempting to load persisted graph via NetworkXStorage.load_graph(force=False)
2025-05-20 04:37:40.159 | INFO     | Core.Storage.NetworkXStorage:load_nx_graph:33 - Attempting to load the graph from: ./results/MySampleTexts/rkg_graph/graph_storage_nx_data.graphml
2025-05-20 04:37:40.161 | INFO     | Core.Storage.NetworkXStorage:load_nx_graph:37 - Successfully loaded graph from: ./results/MySampleTexts/rkg_graph/graph_storage_nx_data.graphml with 92 nodes and 44 edges
2025-05-20 04:37:40.161 | INFO     | Core.GraphRAG:setup_for_querying:273 - Graph loaded successfully.
2025-05-20 04:37:40.637 | INFO     | Core.GraphRAG:setup_for_querying:279 - Entities VDB loaded. Index object: <llama_index.core.indices.vector_store.base.VectorStoreIndex object at 0x7fea1a54ea70>
2025-05-20 04:37:40.854 | INFO     | Core.GraphRAG:setup_for_querying:286 - Relations VDB loaded successfully.
2025-05-20 04:37:40.854 | INFO     | Core.GraphRAG:_build_retriever_context:151 - Building retriever context for the current execution
2025-05-20 04:37:40.854 | INFO     | Core.GraphRAG:setup_for_querying:330 - --- Artifact Loading Process for test Completed ---
2025-05-20 04:37:40.854 | INFO     | Core.GraphRAG:query:343 - Processing query: 'What were the key causes of the American Revolution?'
2025-05-20 04:37:40.854 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:13 - BASIC_QUERY_MAIN_RETRIEVE: Entered _retrieve_relevant_contexts for query: 'What were the key causes of the American Revolution?'
2025-05-20 04:37:40.854 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:14 - BASIC_QUERY_MAIN_RETRIEVE: Config - tree_search: False, use_global_query: True, use_community: False, use_keywords: True, enable_local: False, enable_hybrid_query: True
2025-05-20 04:37:40.854 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:15 - BASIC_QUERY_MAIN_RETRIEVE: Checking for tree_search path...
2025-05-20 04:37:40.855 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:117 - BASIC_QUERY_MAIN_RETRIEVE: Checking for global query with community path...
2025-05-20 04:37:40.855 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:120 - BASIC_QUERY_MAIN_RETRIEVE: Checking for global query with keywords path...
2025-05-20 04:37:41.613 | INFO     | Core.Common.CostManager:update_cost:57 - Total running cost: $0.001 | Max budget: $10.000 | Current cost: $0.001, prompt_tokens: 374, completion_tokens: 49
2025-05-20 04:37:41.984 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_global_keywords:300 - Global query uses 1 entities, 5 relations, 1 text units
2025-05-20 04:37:41.985 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts:124 - BASIC_QUERY_MAIN_RETRIEVE: Checking for local or hybrid query path (this should lead to _retrieve_relevant_contexts_local)...
2025-05-20 04:37:41.985 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:166 - BASIC_QUERY_LOCAL: Entered _retrieve_relevant_contexts_local for query: 'What were the key causes of the American Revolution?'
2025-05-20 04:37:42.627 | INFO     | Core.Common.CostManager:update_cost:57 - Total running cost: $0.001 | Max budget: $10.000 | Current cost: $0.001, prompt_tokens: 374, completion_tokens: 49
2025-05-20 04:37:42.627 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:38 - ENTITY_VDB_RETRIEVAL: Querying VDB with seed: 'Taxation without representation, Boston Tea Party, Intolerable Acts, Colonial grievances' for top_k: None
2025-05-20 04:37:43.301 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:54 - ENTITY_VDB_RETRIEVAL: Raw VDB nodes count: 5
2025-05-20 04:37:43.301 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:56 - ENTITY_VDB_RETRIEVAL: First raw VDB node (with score if available): {'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'entity_name': 'boston tea party', 'entity_type': '', 'description': 'the boston tea party in 1773 was a protest against british taxation policies  leading to increased tensions'}, Score: 0.658566992635777
2025-05-20 04:37:43.301 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:68 - ENTITY_VDB_RETRIEVAL: Processed node_datas count: 5
2025-05-20 04:37:43.301 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:70 - ENTITY_VDB_RETRIEVAL: First processed node_data: {'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'entity_name': 'boston tea party', 'entity_type': '', 'description': 'the boston tea party in 1773 was a protest against british taxation policies  leading to increased tensions'}
2025-05-20 04:37:43.301 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': '', 'id': 'boston tea party', 'entity_name': 'boston tea party', 'layer': 0, 'vdb_score': 0.658566992635777, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the boston tea party in 1773 was a protest against british taxation policies  leading to increased tensions', 'entity_type': ''}
2025-05-20 04:37:43.301 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:123 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'boston tea party'.
2025-05-20 04:37:43.301 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'boston tea party'
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:129 - ENTITY_VDB_DIAG: self.community type: <class 'NoneType'>, repr: None
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:131 - ENTITY_VDB_DIAG: self.community.community_node_map type: <class 'NoneType'>, repr: None
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:144 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'boston tea party'.
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'boston tea party'
2025-05-20 04:37:43.302 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'boston tea party' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': '', 'id': 'british parliament', 'entity_name': 'british parliament', 'layer': 0, 'vdb_score': 0.5990726116095924, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'british parliament imposed taxes and regulations on the thirteen colonies  leading to tensions and resistance', 'entity_type': ''}
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:123 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'british parliament'.
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'british parliament'
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:144 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'british parliament'.
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'british parliament'
2025-05-20 04:37:43.302 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'british parliament' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': '', 'id': 'stamp act congress', 'entity_name': 'stamp act congress', 'layer': 0, 'vdb_score': 0.5597435749183111, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the stamp act congress in 1765 protested against taxation without representation  asserting colonial rights', 'entity_type': ''}
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:123 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'stamp act congress'.
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'stamp act congress'
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:144 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'stamp act congress'.
2025-05-20 04:37:43.302 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'stamp act congress'
2025-05-20 04:37:43.303 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'stamp act congress' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': '', 'id': 'sons of liberty', 'entity_name': 'sons of liberty', 'layer': 0, 'vdb_score': 0.542462693556682, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the sons of liberty were activists who protested british policies  including the boston tea party', 'entity_type': ''}
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:123 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'sons of liberty'.
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'sons of liberty'
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:144 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'sons of liberty'.
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'sons of liberty'
2025-05-20 04:37:43.303 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'sons of liberty' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:106 - ENTITY_VDB_CONSTRUCT: Constructed current_node_data: {'text': '', 'id': 'boston revolt', 'entity_name': 'boston revolt', 'layer': 0, 'vdb_score': 0.5374447837963425, 'source_id': 'chunk-541c2fb47007dc4d93603094626a6541', 'description': 'the 1689 boston revolt overthrows dominion rule in new england  leading to the reassertion of colonial governments and restoration of local control', 'entity_type': ''}
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:123 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'boston revolt'.
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:126 - ENTITY_VDB_DIAG: About to check for community and community_node_map for entity 'boston revolt'
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:144 - ENTITY_VDB_CLUSTERS: Community or community_node_map not available/configured. Skipping cluster attachment for entity 'boston revolt'.
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:146 - ENTITY_VDB_DIAG: Finished cluster attachment attempt for entity 'boston revolt'
2025-05-20 04:37:43.303 | WARNING  | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:151 - ENTITY_VDB_POST_CLUSTER_ATTACH: Entity 'boston revolt' still MISSING 'clusters' attribute after attachment attempt.
2025-05-20 04:37:43.303 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:154 - ENTITY_VDB_FINAL_LIST: Final list of processed_node_datas before assignment (first item if any): {'text': '', 'id': 'boston tea party', 'entity_name': 'boston tea party', 'layer': 0, 'vdb_score': 0.658566992635777, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the boston tea party in 1773 was a protest against british taxation policies  leading to increased tensions', 'entity_type': ''}
2025-05-20 04:37:43.303 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:175 - ENTITY_VDB_RANKING: Added 'rank' (node degree) to 5 entities.
2025-05-20 04:37:43.304 | DEBUG    | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:177 - ENTITY_VDB_RANKING: First entity after adding rank: {'text': '', 'id': 'boston tea party', 'entity_name': 'boston tea party', 'layer': 0, 'vdb_score': 0.658566992635777, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the boston tea party in 1773 was a protest against british taxation policies  leading to increased tensions', 'entity_type': '', 'rank': 2}
2025-05-20 04:37:43.304 | INFO     | Core.Retriever.EntitiyRetriever:_find_relevant_entities_vdb:189 - Processed 5 nodes with metadata for RAPTOR.
2025-05-20 04:37:43.304 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:173 - BASIC_QUERY_LOCAL: Retrieved 5 entities for query 'Taxation without representation, Boston Tea Party, Intolerable Acts, Colonial grievances'.
2025-05-20 04:37:43.304 | DEBUG    | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:174 - BASIC_QUERY_LOCAL: First entity object received: {'text': '', 'id': 'boston tea party', 'entity_name': 'boston tea party', 'layer': 0, 'vdb_score': 0.658566992635777, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the boston tea party in 1773 was a protest against british taxation policies  leading to increased tensions', 'entity_type': '', 'rank': 2}
2025-05-20 04:37:43.304 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:189 - BASIC_QUERY_LOCAL: Attempting to retrieve text_units using 'entity_occurrence' mode.
2025-05-20 04:37:43.304 | INFO     | Core.Retriever.ChunkRetriever:_find_relevant_chunks_from_entity_occurrence:20 - CHUNK_ENTITY_OCCURRENCE: Received 5 node_datas for chunk retrieval.
2025-05-20 04:37:43.304 | DEBUG    | Core.Retriever.ChunkRetriever:_find_relevant_chunks_from_entity_occurrence:22 - CHUNK_ENTITY_OCCURRENCE: First input node_data: {'text': '', 'id': 'boston tea party', 'entity_name': 'boston tea party', 'layer': 0, 'vdb_score': 0.658566992635777, 'source_id': 'chunk-41b312f13f5f70362056f212ec061600', 'description': 'the boston tea party in 1773 was a protest against british taxation policies  leading to increased tensions', 'entity_type': '', 'rank': 2}
2025-05-20 04:37:43.305 | INFO     | Core.Retriever.ChunkRetriever:_find_relevant_chunks_from_entity_occurrence:79 - CHUNK_ENTITY_OCCURRENCE: Returning 2 text units.
2025-05-20 04:37:43.306 | DEBUG    | Core.Retriever.ChunkRetriever:_find_relevant_chunks_from_entity_occurrence:81 - CHUNK_ENTITY_OCCURRENCE: First returned text unit (first 50 chars): The American Revolution (1765–1783) was an ideolog...
2025-05-20 04:37:43.306 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:195 - BASIC_QUERY_LOCAL: Retrieved 2 text units. First unit (first 50 chars): The American Revolution (1765–1783) was an ideolog...
2025-05-20 04:37:43.306 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_local:198 - Using 5 entities, 4 relations, 2 text units
2025-05-20 04:37:45.821 | INFO     | Core.Common.CostManager:update_cost:57 - Total running cost: $0.002 | Max budget: $10.000 | Current cost: $0.001, prompt_tokens: 374, completion_tokens: 49
2025-05-20 04:37:48.128 | INFO     | Core.Query.BasicQuery:_retrieve_relevant_contexts_global_keywords:300 - Global query uses 1 entities, 5 relations, 1 text units
2025-05-20 04:37:48.128 | INFO     | Core.Query.BasicQuery:generation_qa:364 - Global Mode (Communities): Generating answer.
2025-05-20 04:37:53.317 | INFO     | Core.Common.CostManager:update_cost:57 - Total running cost: $0.008 | Max budget: $10.000 | Current cost: $0.006, prompt_tokens: 3581, completion_tokens: 419
2025-05-20 04:37:53.317 | INFO     | __main__:handle_query_mode:128 - Answer: ### Key Causes of the American Revolution

The American Revolution was primarily fueled by a culmination of grievances and events that led to the colonies' desire for independence from British rule. Analysts have identified several key causes that played significant roles in sparking the revolution.

#### Taxation Policies and Lack of Representation
One of the central issues was the imposition of taxes and regulations by the British Parliament on the Thirteen Colonies without adequate representation. The Stamp Act Congress in 1765 protested against taxation without representation, asserting colonial rights. This lack of representation and the burden of taxes imposed by the British Parliament, as seen in the case of the Boston Tea Party, symbolized colonial resistance against these policies.

#### Colonial Grievances and Resistance
The policies of the British Parliament, such as the Townshend Acts and the deployment of troops to Boston, fueled colonial grievances and resistance. The Boston Massacre, where British troops killed protesters, further inflamed anti-British sentiments, leading to increased resistance among the colonists.

#### Support from France and Military Conflict
France's support for the American colonies during the Revolutionary War was crucial in securing victory over the British. The military assistance provided by France, including the decisive victory at the Siege of Yorktown, played a significant role in the eventual success of the colonists in gaining independence.

#### Ideological and Political Movements
The American Revolution was not only a military conflict but also an ideological and political movement. Leaders of the revolution, represented by the Second Continental Congress, made critical decisions that led to the formation of the Continental Army and the adoption of the Declaration of Independence. The desire for autonomy and self-governance, as expressed by colonial leaders, was a fundamental aspect of the revolutionary movement.

In conclusion, the American Revolution was a complex interplay of factors, including grievances over taxation, lack of representation, military conflicts, and the rise of ideological and political movements seeking independence. These causes, as analyzed by various experts, shed light on the multifaceted nature of the events that ultimately led to the birth of the United States as an independent nation.
